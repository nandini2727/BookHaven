<nav class="navbar">
    <div class="logo">
        <a href="/">
            <i class="fa-solid fa-book-open"></i> BookHaven</a>
    </div>
    <ul class="nav-links">
    
        <div class="nav-items">
            <!-- Search box -->
            <li>
                <div class="searchBox"> 
                    <form method="get" action="{% url 'shop' %}">
                        <input class="input" type="text" name="q" placeholder="Search for books..." value="{{ request.GET.q|default:'' }}">
                        <i class="fa-solid fa-magnifying-glass fa-lg searchBtn"></i>
                    </form>
                </div>
            </li>
            <li><a href="/shop">Shop</a></li>
            <li><a href="/contact">Contact</a></li>
        </div>
        
        <div class="nav-icons">
            <li id="user-icon"><i  class="fa-solid fa-user"></i></li>
            <li><a href="/books/wishlist"> <i class="fa-regular fa-heart"></i><span id="wishlist-count">{{ wishlist_count }}</span></a></li>
            <li><a href="/cart/cart"> <i class="fa-solid fa-cart-shopping"></i><span id="cart-count">{{ cart_count }}</span></i></a></li>
            <label class="hamburger">
                <input type="checkbox" id="menuToggle">
                <svg viewBox="0 0 32 32">
                <path class="line line-top-bottom" d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"></path>
                <path class="line" d="M7 16 27 16"></path>
                </svg>
            </label>
        </div>
    </ul>
    
    <div class="sub-menu-wrap" id="sub-menu-wrap">
        <div class="sub-menu">
            <div class="user-dialog" id="user-dialog">
                {% if user.is_authenticated %}
                    <h3>Hello, {{ user.first_name }}</h3>
                    <hr>
                    <a href="/order-history" class="sub-menu-link"> 
                        <i class="fa-solid fa-clock-rotate-left"></i>
                        <p>Order History </p>
                    </a>
                    <a href="{% url 'logout' %}" id="logout-btn" class="sub-menu-link">
                        <i class="fa-solid fa-right-from-bracket"></i>
                        <p>Logout</p>
                    </a>
                {% else %}
                    <a href="{% url 'signin' %}" id="login-btn" class="sub-menu-link">
                        <i class="fa-solid fa-right-to-bracket"></i>
                        <p>Login</p>
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
</nav>
